---
title: Walkthrough
sidebar:
  order: 4
---

import { Tabs, TabItem } from "@astrojs/starlight/components";
import { Image } from "astro:assets";
import { MEDIA_URLS } from "/src/constants";

## Deployment

Kubrick includes a CLI tool that automates the process of setting up and
deploying the infrastructure, meaning developers can have an ingestion pipeline
up and running in a matter of minutes.

```bash
git clone https://github.com/kubrick-ai/kubrick.git
cd kubrick/cli && npm run build
kubrick deploy
```

<video autoplay loop muted webkit-playsinline playsinline>
  <source src={MEDIA_URLS.cliDeployment} type="video/mp4" />
  Your browser does not support the video tag.
</video>

Full CLI deployment documentation is available [here](/guides/quick-start).

## API

Deploying the infrastructure will expose the Kubrick API:

<Tabs>
  <TabItem label='bash'>

```bash
curl -X POST https://API_URL/v1_0/search
-H Content-Type: multipart/form-data \
-F query_type=text \
-F query_text="A red sports car driving down the highway" \
```

  </TabItem>

  <TabItem label='js'>

```js {7}
const url = "https://API_URL/v1_0/search";
const formData = new FormData();
formData.append("query_type", "text");
formData.append("query_text", "A red sports car driving down the highway");

const response = await fetch(url, { method: "POST", body: formData });
const data = await response.json();
```

  </TabItem>

  <TabItem label='python'>

```py {11}
import requests

url = "https://API_URL/v1_0/search"
response = requests.post(
    url,
    data={
        "query_type": "text",
        "query_text": "A red sports car driving down the highway",
    },
)
data = response.json()
```

  </TabItem>
</Tabs>

<details>
  <summary>Example Response:</summary>

```json
{
  "data": [
    {
      "id": 1234,
      "modality": "visual-text",
      "scope": "clip",
      "start_time": 6.0,
      "end_time": 12.0,
      "similarity": 0.7654,
      "video": {
        "id": 5678,
        "s3_bucket": "kubrick-video-library-<uuid>",
        "s3_key": "uploads/<uuid>/red-sports-car.mp4",
        "filename": "red-sports-car.mp4",
        "duration": 120.0,
        "created_at": "2025-08-05T00:00:00.000000",
        "updated_at": "2025-08-05T00:00:00.000000",
        "height": 1080,
        "width": 1920,
        "url": "<presigned_url>"
      }
    }
    ...
  ],
  "metadata": { "page": 0, "limit": 10, "total": 10 }
}
```

</details>

Full API documentation is available [here](/api).

## Playground

The deployment includes a playground web interface, hosted as an S3 static site.
The playground serves as an implementation example for the core features of the
Kubrick API.

### Ingestion

Users can upload videos into a private library, which will automatically create
an embedding task.

<video controls muted class="rounded-lg drop-shadow-lg">
  <source src={MEDIA_URLS.ingestionDemo} type="video/mp4" />
  Your browser does not support the video tag.
</video>

### Text Queries

Text queries return relevant results even if they describe qualities that arenâ€™t
concrete like emotion, tone, composition, visual style, and movement.

<video controls muted class="rounded-lg drop-shadow-lg">
  <source src={MEDIA_URLS.textQueryDemo} type="video/mp4" />
  Your browser does not support the video tag.
</video>

### Media Queries

Kubrick also enables querying with image, audio, and video files. Users can
upload a reference image to find visually similar scenes, search using an audio
clip to locate moments with matching soundscapes or music, or provide a video
segment to retrieve the most similar clips in the library.

#### Image

<video controls muted class="rounded-lg drop-shadow-lg">
  <source src={MEDIA_URLS.imageQueryDemo} type="video/mp4" />
  Your browser does not support the video tag.
</video>

#### Video/Audio

<video controls class="rounded-lg drop-shadow-lg">
  <source src={MEDIA_URLS.videoQueryDemo} type="video/mp4" />
  Your browser does not support the video tag.
</video>
